@using Purchasing.Core.Domain
@model Purchasing.Web.Controllers.Dev.OrderServiceCreateModel
@{
	ViewBag.Title = "Create Conditional Approval";
}

@section SubNav
{
	<ul class="navigation">
		<li>@Html.ActionLink("Back to List", "Index")</li>
	</ul>
}

@using (Html.BeginForm()) {
	@Html.AntiForgeryToken()
	@Html.ValidationSummary(true)
<section class="ui-corner-all">
@* Legend is required if you have more than one widget/unit to help the user understand what is being asked of them.
Example: Dinosaur 1  *@
	<header class="ui-corner-top">Order</header>

	<div class="section-contents">

		<div class="section-text">
	
			<p>This will create a simple order with a few line items and no splits.  Choose conditional approvals to add layers of approvals at will</p>
	
		</div>

		<ul>
				<li>
					<div class="editor-label">
						Select An Account:
					</div>
					<div class="editor-field">
						@this.Select("accountId").Options(Model.Workgroup.Accounts, x=>x.Account.Id, x=>x.Account.Name)
					</div>
				</li>
                @for (int i = 0; i < Model.ConditionalApprovals.Count(); i++)
                {
                    var currentConditionalApproval = Model.ConditionalApprovals[i];
                    var currentConditionalApprovalName = string.Format("ConditionalApprovals[{0}]", i);
                <li>
					<div class="editor-label">
						Question:
					</div>
					<div class="editor-field">
						@currentConditionalApproval.Question
					</div>
				</li>
                <li>
                    <div class="editor-label">
						Answer:
					</div>
					<div class="editor-field">
						<input type="radio" name="@currentConditionalApprovalName" value="@currentConditionalApproval.Id" checked>Yes<br>
                        <input type="radio" name="@currentConditionalApprovalName" value="0">No<br>
					</div>
                </li>
                }
                <li>
                    @* For the clear and submit buttons an empty label is required. Example: <label>&nbsp;</label> *@
				    <div class="editor-label">&nbsp;</div>
				    <div class="editor-field">
				    <input class="button" type="submit" value="Create" /> | @Html.ActionLink("Cancel", "Index")
				    </div>
			    </li>
		</ul>

	</div>
                    
	<footer class="ui-corner-bottom"></footer>
                    
</section>
}