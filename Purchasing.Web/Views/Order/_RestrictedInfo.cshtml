@using Purchasing.Core.Domain
@model OrderModifyModel

@{
    var hasControlledSubstance = Model.Order.HasControlledSubstance;
    var controlledSubstanceInfo = hasControlledSubstance ? Model.Order.GetAuthorizationInfo() : new ControlledSubstanceInformation();
} 

<section id="order-restricted-section" class="padded">
    <header class="ui-widget-header ui-corner-top">
            <div class="col1">Restricted Order?</div>
    </header>

    <div class="section-contents">
        
        <div class="section-text">
            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.</p>    
        </div>

        <ul>
            <li>
                <div class="editor-label">Controlled?</div>
                <div class="editor-field">
                    @this.CheckBox("restricted.status").Id("order-restricted-checkbox").Checked(hasControlledSubstance).LabelAfter(" Check this box if the order contains a controlled substance")
                    @*<input type="checkbox" id="order-restricted-checkbox" name="restricted.status" /> <label for="order-restricted-checkbox">Check this box if the order contains a controlled substance</label>*@
                </div>
            </li>
        </ul>
                        
        <ul id="order-restricted-fields" style="@(hasControlledSubstance ? string.Empty : "display:none;")" >
            <li>
                <div class="editor-label">RUA Number</div>
                <div class="editor-field">
                    <input name="restricted.rua" type="text" placeholder="RUA #" title="Radioactive Use Authorization Number" value="@controlledSubstanceInfo.AuthorizationNum"/>
                </div>
            </li>
            <li>
                <div class="editor-label">Class/Schedule</div>
                <div class="editor-field">
                    <input name="restricted.class" type="text" placeholder="Class/Schedule" value="@controlledSubstanceInfo.ClassSchedule"/>
                </div>
            </li>
            <li>
                <div class="editor-label">How it is used?</div>
                <div class="editor-field">
                    <input name="restricted.use" type="text" placeholder="How it is used" value="@controlledSubstanceInfo.Use"/>
                </div>
            </li>
            <li>
                <div class="editor-label">Storage Site</div>
                <div class="editor-field">
                    <input name="restricted.storageSite" type="text" placeholder="Storage Site" title="Approved storage site on record" value="@controlledSubstanceInfo.StorageSite"/>
                </div>
            </li>
            <li>
                <div class="editor-label">Custodian</div>
                <div class="editor-field">
                    <input name="restricted.custodian" type="text" placeholder="Custodian" value="@controlledSubstanceInfo.Custodian"/>
                </div>
            </li>
            <li>
                <div class="editor-label">Authorized User(s)</div>
                <div class="editor-field">
                    <input name="restricted.users" type="text" placeholder="Authorized User(s)" title="Enter authorized users here. Multiple names should be separated with a comma." value="@controlledSubstanceInfo.EndUser"/>
                </div>
            </li>
        </ul>
    </div>
</section>