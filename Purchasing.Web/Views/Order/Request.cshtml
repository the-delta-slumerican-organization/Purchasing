@model OrderModifyModel
           
@{
    ViewBag.Title = "Request";
}

@{
    Bundles.Reference("~/Css/single/fileuploader/fileuploader.css");
    
    Bundles.Reference("scripts/public/order");
}

@section AdditionalScripts{
    
    <script type="text/javascript">

        $(function () {
            @Html.Partial("_Options")
            
            purchasing.init();
            
            purchasing.initLocalStorage();

            attachSelectAccountEvents();
        });

        function attachSelectAccountEvents() {
            $(".details-option").change(function() {

                // hide all the controls
                $("#account-form").hide();
                $("#account-manager").hide();
                $("#order-split").hide();
                
                // reset the values of the controls inside
                $("#account-form").find("input, select").val("");
                $("#account-manager").find("select").val("");

                var ctl = $(this).find("input");

                if (ctl.val() == "account") {
                    $("#account-form").show();
                }
                if (ctl.val() == "approver") {
                    $("#account-manager").show();
                }
                if (ctl.val() == "split") {
                    $("#order-split").show();
                }

            });
        }

    </script>
}

@Html.Partial("_SideNavigation")

<div class="orders-right">
@using (Html.BeginForm("Request", "Order", new { Model.Workgroup.Id }, FormMethod.Post, new { id = "order-form" }))
{
    @Html.Partial("_OrderForm")
}
</div>

@Html.Partial("_OrderTemplates")

@Html.Partial("_OrderDialogs")