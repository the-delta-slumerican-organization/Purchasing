@model OrderModifyModel

<section id="line-items-section" class="padded">
    <header class="ui-widget-header ui-corner-top">@*<span style="float:left;">Line Items</span> </div>*@
            <div class="col1">Line Items</div>
            <div class="col2"><a href="#" title="Click here to learn all about entering line items" id="help-lineitems" data-tourid="lineitem-intro" class="ui-icon ui-icon-help tour-help"></a><div style="clear:both;"></div></div>
    </header>

    <div class="section-contents">
        
        <div class="section-text">
            <p>
                Please enter information for each individual item that is requested.  Quantity, description and unit price is required.  Click on the balloon to enter additional information such as url, comments or commodity code.
            </p>
            <p data-bind="text: status"></p>
        </div>
            
        <table id="line-items">
            <thead>
                <tr>
                    <th width="50px">Quantity</th>
                    <th>Unit</th>
                    <th>Catalog #</th>
                    <th>Description</th>
                    <th>Unit $</th>
                    <th>Line Total</th>
                    <th>More</th>
                </tr>
            </thead>
            <tbody id="line-items-body" data-bind="foreach: items">
                <tr class="line-item-row">
                    <td><input data-bind="value: quantity, 
                        valueUpdate: 'afterkeydown',
                        lineValid: desc,
                        css: { 'invalid-number-warning': quantity.hasError },
                        itemName: 'quantity'" type="text" autocomplete="off" placeholder="Qty." class="quantity" title="Number of Units for this line item. Will be multipled by price to calculate cost." /></td>
                    <td><select data-bind="value: unit, itemName: 'units'" class="unit" id="units"><option value="CS">CASE</option><option value="CT">CARTON</option><option value="DA">DAY</option><option value="EA">EACH</option></select></td>
                    <td><input data-bind="value: catalogNumber, itemName: 'catalogNumber'" type="text" placeholder="Catalog #" class="catalog-num" title="Enter the vendor provided catalog number. Ex: NCC1701"></td>
                    <td><input data-bind="value: desc, lineValid: desc, itemName: 'description'" type="text" placeholder="Description" class="description" title="Just a friendly description to remember the item by later"></td>
                    <td><input data-bind="value: price, lineValid: price, valueUpdate: 'afterkeydown', css: { 'invalid-number-warning': price.hasError }, itemName: 'price'" type="text" autocomplete="off" placeholder="Price" class="price" title="Price per unit." style="float:left;">             <span class="ui-state-default ui-corner-all ui-state-hover" style="float:right; margin:0.6em 0.1em 0;">                 <a href="#" class="ui-icon ui-icon-calculator price-calculator" title="Calculate unit price."></a></span></td>
                    <td><span data-bind="text: total" class="line-total">$0.00</span></td>         
                    <td><span class="ui-state-default ui-corner-all ui-state-hover" style="margin:.3em .1em; float: right;"><a href="#" class="toggle-line-item-details ui-icon ui-icon-comment" title="Add additional information."></a></span></td>
                </tr>     
            </tbody>
            <tfoot>  
                <tr class="item-footer">
                    <td colspan="2"><a data-bind="click: addLine" href="#" id="add-line-item" class="biggify" title="Add a new line item." ><span class="biggify">+</span> Add New Item</a></td>
                    <td colspan="3" style="text-align: right;">
                        Subtotal:
                    </td>
                    <td style="text-align: left;">
                        <em><span id="subtotal">$0.00</span></em>
                    </td>
                    <td></td>
                </tr>
                <tr class="item-footer">
                    <td colspan="2" class="lineitemsplit"><a href="#" id="cancel-split-by-line" class="biggify" style="display:none;"><span class="biggify">x</span> Cancel Split By Line</a><a href="#" id="split-by-line" class="biggify"><span class="biggify">/</span> Split By Line</a></td>
                    <td colspan="3" style="text-align: right;">
                        Estimated Shipping Amount:
                    </td>
                    <td>
                        <span><input id="shipping" name="shipping" type="text" autocomplete="off" value="$@Model.Order.ShippingAmount" title="Shipping costs are not taxable"/></span>
                    </td>
                    <td></td>
                </tr>                    
                <tr class="item-footer">
                    <td colspan="2" style="text-align: left;"><span id="line-item-help-display"><a href="#" title="Click here to learn all about line splits" id="help-lineitems" data-tourid="lineitemsplit-intro" class="ui-icon ui-icon-help tour-help"></a>&nbsp; <em>About line splits</em></span></td>
                    <td colspan="3" style="text-align: right;">
                        Estimated Handling:
                    </td>
                    <td>
                        <span><input id="freight" name="freight" type="text" autocomplete="off" value="$@Model.Order.FreightAmount" title="Handling costs are taxable"/></span>
                    </td>
                    <td></td>
                </tr>
                <tr class="item-footer">
                    <td colspan="5" style="text-align: right;">
                        Estimated Tax:
                    </td>
                    <td>
                        <span><input id="tax" name="tax" type="text" autocomplete="off" value="@Model.Order.EstimatedTax%"/></span>
                    </td>
                    <td></td>
                </tr>
                <tr class="item-footer">
                    <td colspan="5" style="text-align: right;">
                        Grand Total:
                    </td>
                    <td style="text-align: left;">
                        <strong><span id="grandtotal">$0.00</span></strong>
                    </td>
                    <td></td>
                </tr>
            </tfoot>
        </table>
    </div>
                
<!--    <footer>
        <div class="col1"><div style="clear:both;"></div></div>
        <div class="col2"></div>
    </footer>-->
</section>