@model IEnumerable<Purchasing.Core.Domain.Workgroup>

@{
    ViewBag.Title = "Select Workgroup for Order";
}

@section AdditionalScripts
{
    <script type="text/javascript">
        $(function () {
            $(".workgroup").hover(
                function () {
                    $(this).addClass("ui-state-hover");
                    $(this).removeClass("ui-state-active");
                },
                function () {
                    $(this).removeClass("ui-state-hover");
                    $(this).addClass("ui-state-active");
                });
        });
    </script>

    <style type="text/css">
        #workgroup-container
        {
            margin: 1em;
        }
    </style>
}

@if (Model.Count() == 0)
{
    <div class="ui-state-highlight">
        You are not a requester in any workgroup.  You do not have permissions to place orders, please contact your department administrator for help with permissions.
    </div>
}
else
{
    <div id="workgroup-container">
        @foreach (var workgroup in Model)
        {
            <a href="@Url.Action("Request", "OrderMockup", new {id=workgroup.Id})">
            <div class="workgroup ui-state-active ui-corner-all" style="padding: 1em;">
                <div class="workgroup-name">@workgroup.Name</div>
                <div class="workgroup-departments">@string.Join(",", workgroup.Organizations.Select(a=>a.Name))</div>
            </div>
            </a>
        }
    </div>
}