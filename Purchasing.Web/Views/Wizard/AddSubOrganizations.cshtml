@using Purchasing.Web.Models
@model WorkgroupModifyModel

@{
    ViewBag.Title = Model.Workgroup.Name;
    ViewBag.StepName = "Add Suborganizations";
    //ViewBag.Previous = Url.Action("Create", "Workgroup");
    ViewBag.Skip = Url.Action("SubOrganizations", "Wizard", new {id = Model.Workgroup.Id});
}

@section AdditionalScripts
{
    <link rel="stylesheet" type="text/css" href="@Url.Css("jquery.multiselector.css")"/>
    <script type="text/javascript" src="@Url.Script("jquery.multiselector.js")"></script>

    <script type="text/javascript">

        $(function () {

            $("#SelectedOrganizations").multiSelector({ placeholder: "Search Organizations", showOptions: true });

        })

    </script>

    <style type="text/css">
    
        .selector {margin: 2em 0;}
        .selector h3 {margin-bottom: .5em;}
    
        header.title
        {
            border-top: 1px solid #DDDDDD; 
            border-bottom: 1px solid #DDDDDD; 
            font-size: large; 
            padding: 1em;
        }
    
    </style>
}

@section SubNav
{
	@*<ul class="navigation">
		<li>@Html.ActionLink("Back to List", "Index")</li>
	</ul>*@
    @Html.Partial("_StatusBar", Model.Workgroup.Id)
}

@using (Html.BeginForm())
{
	@Html.AntiForgeryToken()
	@Html.ValidationSummary(true)
    @Html.Hidden("id", @Model.Workgroup.Id)
    @Html.Partial("_Navigation")
    <section>
    @* Legend is required if you have more than one widget/unit to help the user understand what is being asked of them.
    Example: Dinosaur 1  *@
	    <header class="ui-corner-all ui-widget-header">Workgroup</header>

        <div class="section-contents">
    
            <div class="section-text">
	            @*<h4>Form Header</h4>*@
	            @*<p>Be specific so the user understands what exactly you are looking for.  Example: After Dinosaur 1 moves out of his/her parents' den what will Dinosaur 1 do?  We need to know his employment plan, feeding area, as well as living situation.  This information will not be sold or given to carnivores.</p>*@
	            <p>All required fields are in <strong>bold</strong> and have a red <span class="required">*</span> next to the field label.</p>        
            </div>

	        <ul>
                <li>
    
<li>
    <div class="editor-label">
        @Html.LabelFor(model => model.Organizations)
    </div>
    <div class="editor-field">
        <div class="selector">
            <select id="SelectedOrganizations" name="selectedOrganizations" multiple="">
                @foreach (var a in Model.Organizations)
                {
                    <option @(a.Selected ? "selected" : "") value="@a.Value">@a.Text</option>
                }
            </select>
        </div>
    </div>
</li>
		       
	        </ul>

        </div>



    </section>
    @Html.Partial("_Navigation")
}
