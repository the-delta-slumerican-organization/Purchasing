@using Purchasing.Web.Controllers
@model OrderMockupController.OrderModifyModel
           
@{
    ViewBag.Title = "Request";
}

@section AdditionalScripts{
    <link href="@Url.Css("fileuploader/fileuploader.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Css("jquery.qtip.min.css")" rel="stylesheet" type="text/css" />
    <style>
        .help
        {
            font-style: italic;
            margin-bottom: 1em;
        }
        .line-item-row
        {
            background-color: #D5DBE1;
        }
        .sub-line-item
        {
            border-spacing: 0;
            border: 0;
            background-color:#F2EBCC;
        }
        .sub-line-item-split
        {
            border-spacing: 0;
            border: 0;
            background-color:#B2C9C5;
        }
        
        #order-splits > li { background-color: #B2C9C5; margin:1em; padding:2em;}
        
        form input[type='text'].quantity { min-width: 0; width: 40px;}
        form select.unit { min-width: 80px; width: 40px;}
        form input[type='text'].catalog-num { min-width: 0; width: 100px;}
        form input[type='text'].description { min-width: 0; width: 520px;}
        form input[type='text'].price,#shipping, #tax,#freight  { min-width: 0; width: 40px;}
        
        form select.account-subaccount, form select.account-number {min-width: 130px; width: 130px;}
        form input.account-projectcode {min-width: 80px; width: 80px;}

        .account-container, .account-split-amounts {display: inline-block;}
        .account-container {margin-right: 80px;}

        #accounts-search-dialog header { display: inline-block; width: 100%; border-bottom: 1px solid #DDDDDD; padding-bottom: 3px;}
        #accounts-search-dialog section { padding: 1em; }
        #accounts-search-dialog select, #accounts-search-dialog input[type='text'] {padding: .5em;}

        #accounts-search-dialog-results .selected {background-color: lightblue;}
        
        #search-vendor-dialog input[type='text'], #search-vendor-dialog select {padding: .5em; min-width: 300px; width: 300px;}
        #search-vendor-dialog section {padding: 1em; margin: 10px 0;}

        #add-line-item {}
        .invisible { display:none; }
        
        .line-item-details, .line-item-splits {display: none;}
        
        .invalid-number-warning
        {
            background-color: #FFDCDC;
        }
        
        td {text-align: left;}        
        
        .qq-upload-button
        {
             -moz-border-radius-topleft: 4px; -webkit-border-top-left-radius: 4px; -khtml-border-top-left-radius: 4px; border-top-left-radius: 4px; 
             -moz-border-radius-topright: 4px; -webkit-border-top-right-radius: 4px; -khtml-border-top-right-radius: 4px; border-top-right-radius: 4px;
             -moz-border-radius-bottomleft: 4px; -webkit-border-bottom-left-radius: 4px; -khtml-border-bottom-left-radius: 4px; border-bottom-left-radius: 4px;
             -moz-border-radius-bottomright: 4px; -webkit-border-bottom-right-radius: 4px; -khtml-border-bottom-right-radius: 4px; border-bottom-right-radius: 4px;
        }
        
    </style>
    @*<script src="//ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js"></script>*@
    <script src="@Url.Script("jquery.tmpl.min.js")"></script>
    <script src="@Url.Script("OrderMockup.js")"></script>
    <script src="@Url.Script("fileuploader.js")"></script>
    <script src="@Url.Script("jquery.qtip.min.js")"></script>
    <script type="text/javascript">

        purchasing.options({ 
                AddVendorUrl: "@Url.Action("AddVendor")", 
                AddAddressUrl: "@Url.Action("AddAddress")", 
                UploadUrl: '@Url.Action("UploadFile")',
                KfsSearchUrl: '@Url.Action("SearchKfsAccounts", "Accounts")',
                KfsSearchSubAccountsUrl: '@Url.Action("SearchSubAccounts", "Accounts")',
                AddKfsVendorUrl: '@Url.Action("AddKfsVendor", "WorkgroupVendor")',
                SearchVendorUrl: '@Url.Action("SearchVendor", "WorkgroupVendor")',
                SearchVendorAddressUrl: '@Url.Action("SearchVendorAddress", "WorkgroupVendor")',
                SearchCommodityCodeUrl: '@Url.Action("SearchCommodityCodes")'
            });

        $(function () {

            purchasing.init();
                
        });

    </script>
}

@using (Html.BeginForm())
{
    @Html.Partial("_OrderForm")
}

@Html.Partial("_OrderTemplates")

@Html.Partial("_OrderDialogs")